<!DOCTYPE html>
<html>
  <head>
    <!-- voir https://greensock.com/docs/v3/Installation#installer -->
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
    <script src="svgelement.js"></script>
    <script>
    
    class Voilier {
        constructor(parent) {
          
            // groupe pour englober le voilier
            const g = parent.appendElement("g");

            // Mât
            g.appendElement("rect", {
                x: 6, y: 0.5, 
                width: 0.25, height: 6, 
                fill: "LightGray"
            });

            // Voile
            g.appendElement("path", {
                d: "M 9 5 L 6 0.5 L 4 5 Z",
                stroke: "Black",
                "stroke-width": "0.01",
                fill: "White"
            });

            // Coque (coordonnées relatives au point de référence)
            g.appendElement("path", {
                d: "M 9 5 L 3.5 5.3 L 3 6.5 L 8 6.5 Z",
                fill: "Brown"
            });
            
            g.setAttributes({ transform: `translate(${1.5} ${1.5})` });
        }
    }

    class Paysage {
        constructor(parent) {
          
            // groupe pour le paysage
            const g = parent.appendElement("g");
            
            // Fond
            g.appendElement("rect", {
                x: 0, y: 0, width: 16, height: 9,
                fill: "#DFF"
            });
            
            // Mer
            g.appendElement("rect", {
                x: 0, y: 6, width: 16, height: 9,
                fill: "Blue"
            });
            
            // Soleil
            g.appendElement("circle", {
                cx: 13, cy: 1.5, r: 1,
                fill: "Yellow"
            });

            // Voilier
            const voilier = new Voilier(g, 6, 5);
        }
    }

    // Initialisation quand la page est prête
    document.addEventListener('DOMContentLoaded', function() {
        const svg = SVGelement.fromSelector("#dessin-demo");
        if (svg) {
            new Paysage(svg);
        }
    });
    
</script>
    <style>
      body { font-family: Arial, sans-serif; margin: 20px; }
      svg { border: 1px solid #ccc; margin: 10px 0; }
    </style>
  </head>
  <body>
    <h2>TD1 - Exercice SVG</h2>
    <svg xmlns="http://www.w3.org/2000/svg" width="960" height="540" viewBox="0 0 16 9" id="dessin-demo">
    </svg>
    <script>
      // ici, il y aura les scripts JS pour créer, modifier et animer l'image SVG
    </script>
  </body>
</html>